# Дипломная работа к профессии iOS-разработчик 

## Учебный проект [профессии «iOS-разработчик с нуля»](https://netology.ru/programs/ios-developer) от онлайн-университета Нетология.

## Описание
 
Приложение: instaPhoto

![Screenshot](main.jpg)

В начале курса перед нами стояла задача разработать клиент-серверное приложение, прототип клиента социальной сети для размещения фотографий.

Данная дипломная работа содержит реализацию всех основных тем, пройденных на курсе iOS разработчика.

Работа над проектом была разделена на несколько блоков, посвященных основным базовым темам языка разработки Swift:

- Основы Swift
- Введение в iOS разработку
- Пользовательский интерфейс
- Многопоточность
- Работа с сетью
- Хранение данных
- мультимедиа и другие фреймворки

В приложении реализовано:

- Авторизация текущего пользователя с помощью логина и пароля, либо с помощью полученного от сервера токена.
- Отображение ленты публикаций пользователей, на которых подписан текущий пользователь.
- Просмотр профилей пользователей.
- Добавление новых публикаций с возможностью применения фильтров к публикуемым изображениям.
- Добавление/снятие лайка к публикации.
- Просмотр списка лайкнувших публикацию пользователей.
- Подписка/отписка от пользователей.
- Просмотр подписчиков и тех, на кого подписан пользователь.
- Перевод на Русский и Английский язык

## Демонстрация

Экран входа в приложение:

![login](https://github.com/EvgenLipilin/netology_Diplom/blob/master/login.gif)

Лента постов:

![feed](https://github.com/EvgenLipilin/netology_Diplom/blob/master/feed.gif)

Экран Профиля:

![profile](https://github.com/EvgenLipilin/netology_Diplom/blob/master/profile.gif)

Экран нового поста:

![newpost](https://github.com/EvgenLipilin/netology_Diplom/blob/master/newpost.gif)


### Особенности реализации

1. В случае успешной авторизации по логину и паролю, полученный от сервера токен сохраняется в **Keychain**.
2. При повторном запуске приложения происходит проверка наличия сохранённого токена, после чего выполняется запрос к серверу на его валидность. Если токен оказываетя валидным, происходит автоматическая авторизация пользователя, в противном случае токен удаляется.
3. Если при запуске приложения обнаруживается сохранённый токен, но сервер оказывается недоступен, приложение переходит в оффлайн режим работы, при котором возможен просмотр полученных ранее в онлайн режиме данных.
4. В онлайн режиме получаемые от сервера данные сохраняются в локальное хранилище. Хранение данных реализовано с использованием **CoreData**.
5. Работа с сетью реализована нативными средствами.
6. Загрузка изображений осуществляется с помощью фреймворка **Kingfisher**.
7. Выбор новых изображений для публикации в данной реализации приложения доступен только из ограниченного числа имеющихся в коллекции изображений.
8. Вёрстка интерфейса преимущественно выполнялась с использованием XIB-файлов. Несколько экранов реализованы в коде.
9. Приложение работает на основе **локального сервера**. Инструкция по его запуску описана ниже.

Дизайн и структура приложения реализовано по данному макету, с небольшими правками по UI:

![Layout design](https://github.com/EvgenLipilin/thesis-work/blob/master/maket.png)

### Запуск сервера

Перед запуском необходимо установить **Vapor**. Это фреймворк для создания веб-серверов на Swift. Для его установки можно воспользоваться пакетным менеджером **brew**. Если у вас его ещё нет, выполните в терминале команду `/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"`.

Далее воспользуйтесь командой `brew install vapor/tap/vapor` для установки самого фреймворка. Если не установлена библиотека **libressl** произведите её установку командой `brew install libressl`.

Для установки сервера выполнить команду в директории проекта: `sudo xattr -d com.apple.quarantine Run`.

Для запуска сервера откройте терминал, перейдите в папку с проектом и выполните `./Run`.

Для остановки сервера нажмите *сontrol + C* либо просто закройте терминал. Запускать сервер нужно обязательно, иначе он не найдёт изображения в папке Public. После перезапуска сервер возвращается в исходное состояние.

Для входа в приложение используйте логин "user" и пароль "qwerty".
